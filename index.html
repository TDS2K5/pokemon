<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pokémon Pokedex</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }
        #pokeball {
            width: 200px;
            height: 200px;
            background: radial-gradient(circle at 100px 100px, white 20%, red 20%, red 50%, black 50%, black 100%);
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.5s;
        }
        #pokeball:hover {
            transform: scale(1.1);
        }
        #pokedex {
            display: none;
            width: 80%;
            max-width: 600px;
            max-height: 500px;
            overflow-y: auto;
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .pokemon-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 5px;
            border-bottom: 1px solid #eee;
        }
        .pokemon-item img {
            width: 50px;
            height: 50px;
            margin-right: 15px;
        }
    </style>
</head>
<body>
    <div id="pokeball"></div>
    <div id="pokedex"></div>

    <script>
        const pokeball = document.getElementById('pokeball');
        const pokedex = document.getElementById('pokedex');
        let pokemonData = null;

        pokeball.addEventListener('click', async () => {
            // Pokéball opening animation
            pokeball.style.transform = 'rotate(360deg)';
            
            // Fetch Pokémon data if not already loaded
            if (!pokemonData) {
                try {
                    const response = await fetch('https://pokeapi.co/api/v2/pokemon?limit=151');
                    const data = await response.json();
                    pokemonData = await Promise.all(data.results.map(async (pokemon) => {
                        const details = await fetch(pokemon.url).then(res => res.json());
                        return {
                            name: pokemon.name,
                            image: details.sprites.front_default
                        };
                    }));
                } catch (error) {
                    console.error('Failed to fetch Pokémon data:', error);
                    return;
                }
            }

            // Show Pokédex
            setTimeout(() => {
                pokeball.style.display = 'none';
                pokedex.style.display = 'block';
                
                // Populate Pokédex
                pokedex.innerHTML = pokemonData.map(pokemon => `
                    <div class="pokemon-item">
                        <img src="${pokemon.image}" alt="${pokemon.name}">
                        <span>${pokemon.name.toUpperCase()}</span>
                    </div>
                `).join('');
            }, 500);
        });

        pokedex.addEventListener('click', () => {
            pokedex.style.display = 'none';
            pokeball.style.display = 'block';
            pokeball.style.transform = 'rotate(0deg)';
        });
    </script>
</body>
</html>